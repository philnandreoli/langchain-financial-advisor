services:
  backend:
    image: mcr.microsoft.com/devcontainers/python:1-3.11-buster
    volumes:
      - .:/workspace:cached
    command: sleep infinity
    links:
      - frontend
  frontend:
    image: mcr.microsoft.com/devcontainers/python:1-3.12-bullseye
    volumes:
      - .:/workspace:cached
    command: sleep infinity
  db:
    image: mongo
    restart: always
    ports:
      - 8081:8081
      - 10250:10250
      - 27017:27017
    environment:
      - MONGO_INITDB_ROOT_USERNAME=${MONGO_DB_USER}
      - MONGO_INITDB_ROOT_PASSWORD=${MONGO_DB_PASSWORD}